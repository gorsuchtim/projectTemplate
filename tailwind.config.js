const plugin = require("tailwindcss/plugin");
const {
    whitelist,
    whitelistPatterns,
} = require("./webpack/rules/wp-whitelists");
const templates = require("./webpack/rules/template-files");

const CUSTOM_VARIANTS = {
    /** name : selector */

    /** Bootstrap's "collapsed" */
    "is-collapsed": ".collapsed.is-collapsed",
    "group-is-collapsed": ".group.collapsed .group-is-collapsed",

    /** Bootstrap's "show" */
    "is-show": ".show.is-show",
    "group-is-show": ".group.show .group-is-show",
};

module.exports = {
    future: {
        removeDeprecatedGapUtilities: true,
    },
    purge: {
        content: [...templates],
        options: {
            whitelist,
            whitelistPatterns,
        },
    },
    corePlugins: {},
    plugins: [
        ...Object.entries(CUSTOM_VARIANTS).map(([name, selector]) =>
            plugin(function ({ addVariant, e }) {
                addVariant(name, ({ modifySelectors, separator }) => {
                    modifySelectors(({ className }) => {
                        return selector + e(separator + className);
                    });
                });
            }),
        ),
    ],
    theme: {
        screens: {
            sm: "460px",
            md: "768px",
            lg: "1280px",
        },

        colors: {
            transparent: "transparent",
            current: "currentColor",

            black: "#000",
            white: "#fff",
            red: "#d80a07",
            green: "#027e17",
            orange: "#ffa53c",
            teal: "#05d4e1",

            "blue-bg-pale": "#edf6ff",
            "blue-info": "#edf6ff",
            "blue-vivid": "#0a80ff",
            "blue-vivid-hover": "#0066d4",

            "gray-bg-light": "#f2f7f7",
            "gray-bg-md": "#ebf0f0",
            "gray-bg-dark": "#e3e8e8",
            "gray-heather": "#cbd1d7",
            "gray-heather-hover": "#9da3a8",
            "gray-slate": "#525161",
            "gray-slate-hover": "#464553",
            "gray-steel": "#32313a",
            "gray-steel-hover": "#1f1f25",

            "cyan-vivid": "#05d5e1",
            "green-success": "#d8f7dd",
            "red-error": "#fdd",
            "red-vivid": "#f00",
            "yellow-soft": "#feea6e",
            "yellow-warning": "#fff8c9",

            "srt-working": "#9c05ff",
            "srt-working--hover": "#7c00cd",
            "srt-gaming": "#ffa53c",
            "srt-gaming--hover": "#f18200",
            "srt-streaming": "#feea6e",
            "srt-streaming--hover": "#f3d201",
            "srt-browsing": "#05d4e1",
            "srt-browsing--hover": "#00aab5",
            "srt-speed": "#0a80ff",
            "srt-speed--hover": "#0066d4",
        },

        spacing: {
            full: "100%",

            0: "0px",
            2: "2px",
            4: "4px",
            8: "8px",
            10: "10px",
            12: "12px",
            16: "16px",
            20: "20px",
            24: "24px",
            28: "28px",
            32: "32px",
            36: "36px",
            40: "40px",
            44: "44px",
            48: "48px",
            56: "56px",
            68: "68px",
            64: "64px",
            72: "72px",
            80: "80px",
            84: "84px",
            88: "88px",
            104: "104px",
            120: "120px",
            144: "144px",
            476: "476px",
        },

        borderColor: theme => ({
            ...theme("colors"),
            default: theme("colors['gray-heather']", "currentColor"),
        }),

        borderRadius: {
            full: "9999px",
            0: "0px",
            2: "2px",
            4: "4px",
            6: "6px",
            8: "8px",
            16: "16px",
        },

        borderWidth: {
            default: "1px",
            "0": "0",
            "2": "2px",
            "3": "3px",
            "4": "4px",
            "8": "8px",
        },

        boxShadow: {
            none: "none",

            0: "none",
            1: "0 3px 3px rgba(0, 0, 0, 0.2)",
            2: "0 1px 5px 0 rgb(102, 67, 214)",
            3: "0 0 2px 2px rgba(0, 0, 0, 0.6)",
            4: "0 20px 20px 0 rgba(0, 0, 0, 0.1)",
            5: "4px 0 4px 1px rgba(0, 0, 0, 0.12)",
            6: "10px 2px 16px 0 rgba(0, 0, 0, 0.06)",
            7: "4px 4px 4px 1px rgba(0, 0, 0, 0.12)",
            8: "0 -7px 15px -7px rgba(82, 81, 97, 0.1), 0 1px 36px 8px rgba(82, 81, 97, 0.05)",
            9: "0 -24px 38px 3px rgba(0, 0, 0, 0.07), 0 -11px 15px -7px rgba(0, 0, 0, 0.1), 0 -9px 46px 8px rgba(0, 0, 0, 0.06)",
            10: "0 -4px 5px 0 rgba(0, 0, 0, 0.14), 0 -2px 4px -1px rgba(0, 0, 0, 0.2), 0 -1px 10px 0 rgba(0, 0, 0, 0.12)",
            11: "0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 4px 0 rgba(0, 0, 0, 0.14)",
            12: "0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.02), 0 4px 5px 0 rgba(0, 0, 0, 0.14)",
            13: "0 1px 10px 0 rgba(50, 80, 112, 0.12), 0 2px 4px -1px rgba(50, 80, 112, 0.2), 0 4px 6px 0 rgba(50, 80, 112, 0.14)",
            14: "0 2px 4px -1px rgba(50, 80, 112, 0.2), 0 3px 14px 2px rgba(50, 80, 112, 0.12), 0 5px 5px -3px rgba(50, 80, 112, 0.14)",
            15: "0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14)",
            16: "0 9px 46px 8px rgba(0, 0, 0, 0.02), 0 11px 15px -7px rgba(0, 0, 0, 0.1), 0 24px 38px 3px rgba(0, 0, 0, 0.04)",
            17: "0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14)",
            18: "0 9px 46px 8px rgba(0, 0, 0, 0.06), 0 11px 15px -7px rgba(0, 0, 0, 0.1), 0 24px 38px 3px rgba(0, 0, 0, 0.06)",
            19: "0 9px 36px 8px rgba(82, 81, 97, 0.05), 0 11px 15px -7px rgba(82, 81, 97, 0.1)",
            20: "0 9px 46px 8px rgba(82, 81, 97, 0.12), 0 11px 15px -7px rgba(82, 81, 97, 0.1), 0 24px 38px 3px rgba(82, 81, 97, 0.04)",
            21: "1px 1px 4px -1px rgba(0, 0, 0, 0.2), 1px 1px 10px 0 rgba(0, 0, 0, 0.12), 2px 2px 5px 0 rgba(0, 0, 0, 0.14)",
            22: "0 2px 4px -1px rgba(50, 80, 112, 0.2), 0 4px 6px 0 rgba(50, 80, 112, 0.14), 0 1px 10px 0 rgba(50, 80, 112, 0.12)",
            23: "0 2px 4px -1px rgba(50, 80, 112, 0.2), 0 8px 10px 1px rgba(50, 80, 112, 0.14), 0 3px 14px 2px rgba(50, 80, 112, 0.12)",
        },

        container: {
            center: true,
        },

        fill: {
            current: "currentColor",
        },

        fontFamily: {
            sans: ["proxima-nova", "sans-serif"],
            serif: ["operetta-8", "Times New Roman", "serif"],
        },

        fontSize: {
            0: 0,
            8: "8px",
            9: "9px",
            10: "10px",
            12: "12px",
            13: "13px",
            14: "14px",
            15: "15px",
            16: "16px",
            18: "18px",
            20: "20px",
            22: "22px",
            24: "24px",
            28: "28px",
            32: "32px",
            36: "36px",
            40: "40px",
            48: "48px",
            64: "64px",
            92: "92px",
        },

        fontWeight: {
            100: "100",
            200: "200",
            300: "300",
            400: "400",
            500: "500",
            600: "600",
            700: "700",
            800: "800",
            900: "900",
        },

        height: theme => ({
            auto: "auto",
            ...theme("spacing"),
            full: "100%",
            screen: "100vh",
        }),

        inset: theme => ({
            auto: "auto",
            ...theme("spacing"),
            "1/2": "50%",
            full: "100%",
        }),

        lineHeight: {
            initial: "initial",
            0: "0",
            1: "1",
            "1.2": "1.2",
            "1.3": "1.3",
            "1.4": "1.4",
            "1.7": "1.7",
            "3.5": "3.5",

            10: "10px",
            12: "12px",
            14: "14px",
            16: "16px",
            18: "18px",
            22: "22px",
            24: "24px",
            26: "26px",
            28: "28px",
            30: "30px",
            32: "32px",
            34: "34px",
            38: "38px",
            40: "40px",
            44: "44px",
            52: "52px",
            64: "64px",
            92: "92px",
        },

        margin: (theme, { negative }) => ({
            auto: "auto",
            ...theme("spacing"),
            ...negative(theme("spacing")),
        }),

        maxHeight: theme => ({
            none: "none",
            full: "100%",
            screen: "100vh",
            ...theme("spacing"),
        }),

        maxWidth: (theme, { breakpoints }) => ({
            none: "none",
            full: "100%",
            ...theme("spacing"),
            ...breakpoints(theme("screens")),
        }),

        minHeight: theme => ({
            "0": "0",
            full: "100%",
            ...theme("spacing"),
        }),

        minWidth: theme => ({
            "0": "0",
            full: "100%",
            ...theme("spacing"),
        }),

        opacity: {
            0: "0",
            20: "0.20",
            24: "0.24",
            25: "0.25",
            35: "0.35",
            36: "0.36",
            40: "0.40",
            50: "0.50",
            60: "0.60",
            64: "0.64",
            65: "0.65",
            70: "0.70",
            75: "0.75",
            100: "1",
        },

        padding: theme => theme("spacing"),
        space: (theme, { negative }) => ({
            ...theme("spacing"),
            ...negative(theme("spacing")),
        }),

        strokeWidth: {
            0: "0",
            1: "1",
            2: "2",
            3: "3",
            4: "4",
            6: "6",
            8: "8",
        },

        width: theme => ({
            auto: "auto",
            ...theme("spacing"),
            "1/2": "50%",
            "1/3": "33.333333%",
            "2/3": "66.666667%",
            "1/4": "25%",
            "2/4": "50%",
            "3/4": "75%",
            "1/5": "20%",
            "2/5": "40%",
            "3/5": "60%",
            "4/5": "80%",
            "1/6": "16.666667%",
            "2/6": "33.333333%",
            "3/6": "50%",
            "4/6": "66.666667%",
            "5/6": "83.333333%",
            "1/12": "8.333333%",
            "2/12": "16.666667%",
            "3/12": "25%",
            "4/12": "33.333333%",
            "5/12": "41.666667%",
            "6/12": "50%",
            "7/12": "58.333333%",
            "8/12": "66.666667%",
            "9/12": "75%",
            "10/12": "83.333333%",
            "11/12": "91.666667%",
            full: "100%",
            screen: "100vw",
        }),

        scale: {
            "0": "0",
            "50": ".5",
            "75": ".75",
            "80": ".8",
            "90": ".9",
            "95": ".95",
            "100": "1",
            "105": "1.05",
            "110": "1.1",
            "125": "1.25",
            "130": "1.3",
            "150": "1.5",
        },
    },

    variants: {
        backgroundColor: [
            "is-collapsed",
            "responsive",
            "hover",
            "focus",
            "group-hover",
            "group-focus",
            "disabled",
            "checked",
            "odd",
            "even",
        ],
        borderColor: [
            "is-collapsed",
            "responsive",
            "hover",
            "focus",
            "group-hover",
            "group-focus",
            "disabled",
            "checked",
            "first",
            "last",
            "odd",
            "even",
        ],
        borderRadius: ["responsive", "first", "last", "odd", "even"],
        borderWidth: [
            "responsive",
            "group-hover",
            "group-focus",
            "first",
            "last",
            "odd",
            "even",
        ],
        boxShadow: [
            "is-collapsed",
            "responsive",
            "hover",
            "focus",
            "group-hover",
            "group-focus",
            "first",
            "last",
            "odd",
            "even",
        ],
        display: [
            "group-is-collapsed",
            "is-collapsed",
            "responsive",
            "disabled",
            "first",
            "last",
            "odd",
            "even",
        ],
        fontWeight: [
            "responsive",
            "group-hover",
            "group-focus",
            "first",
            "last",
            "odd",
            "even",
        ],
        height: ["responsive", "first", "last", "odd", "even"],
        opacity: [
            "responsive",
            "hover",
            "focus",
            "group-hover",
            "group-focus",
            "disabled",
            "checked",
            "first",
            "last",
            "odd",
            "even",
        ],
        padding: ["responsive", "group-is-collapsed"],
        rotate: ["responsive", "hover", "focus", "group-is-collapsed"],
        textColor: [
            "responsive",
            "hover",
            "focus",
            "group-hover",
            "group-focus",
            "disabled",
            "first",
            "last",
            "odd",
            "even",
        ],
        textDecoration: [
            "responsive",
            "hover",
            "focus",
            "group-hover",
            "group-focus",
        ],
    },
};
